<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <title>Quem Elegeu?</title>
    
    <meta name="description" content="Onde nossos deputados conseguiram os votos necess치rios para chegar no poder?">
    <link rel="canonical" href="https://quem-elegeu.github.io/">
    
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="Quem Elegeu?">
    <meta itemprop="description" content="Onde nossos deputados conseguiram os votos necess치rios para chegar no poder?">
    <meta itemprop="image" content="/images/quem-elegeu-1-1.0.0.jpg">
    
    <!-- Open Graph data -->
    <meta property="og:type" content="cause">
    <meta property="og:title" content="Quem Elegeu?">
    <meta property="og:description" content="Onde nossos deputados conseguiram os votos necess치rios para chegar no poder?">
    <meta property="og:image" content="/images/quem-elegeu-1-1.0.0.jpg">
    <meta property="og:image:width" content="300">
    <meta property="og:image:height" content="300">
    <meta property="og:url" content="https://quem-elegeu.github.io//">
    <meta property="og:site_name" content="Quem Elegeu?">
    
    <!-- Twitter Card data -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://quem-elegeu.github.io//">
    <meta property="twitter:title" content="Quem Elegeu?">
    <meta property="twitter:share_text" content="Quem Elegeu?">
    <meta property="twitter:description" content="Onde nossos deputados conseguiram os votos necess치rios para chegar no poder?">
    <meta property="twitter:image" content="/images/quem-elegeu-1-1.0.0.jpg">
    <meta property="twitter:creator" content="@mblivre">
    
    <link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57-1.0.0.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60-1.0.0.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72-1.0.0.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76-1.0.0.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114-1.0.0.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120-1.0.0.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144-1.0.0.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152-1.0.0.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180-1.0.0.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192-1.0.0.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-1.0.0.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96-1.0.0.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-1.0.0.png">
    <link rel="manifest" href="/images/manifest-1.0.0.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/images/ms-icon-144x144-1.0.0.png">
    <meta name="theme-color" content="#ffffff">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-76851970-1', 'auto');
    ga('send', 'pageview');
    </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.jssocials/1.2.1/jssocials.css" />
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.jssocials/1.2.1/jssocials-theme-flat.css" />

    <script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/jquery.jssocials/1.2.1/jssocials.min.js"></script>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="/js/biPartite-1.0.0.min.js"></script>
    <link rel="stylesheet" href="/css/default-1.0.0.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand site-link" href="/"><img class="site-logo" src="/images/quem-elegeu-inv-32x32-1.0.0.png"></a>
        </div>
        <!--<div id="navbar" class="navbar-collapse collapse">-->
            <!--<ul class="nav navbar-nav navbar-right">-->
                <!--<li><a href="https://quem-elegeu.github.io//partidos.html">Partidos</a></li>-->
                <!--<li><a href="https://quem-elegeu.github.io//como-funciona.html">Como Funciona?</a></li>-->
                <!--<li><a href="https://quem-elegeu.github.io//achou-erro.html">Achou um erro?</a></li>-->
            <!--</ul>-->
        <!--</div>-->
    </div>
</nav>
<br/><div class="container-fluid text-center">
    <div class="panel panel-default">
        <div id="shares"></div>
        <script>
            $("#shares").jsSocials({
                showLabel: false,
                showCount: false,
                shares: ["facebook", "googleplus", "twitter", "whatsapp", "email"]
            });
        </script>
    </div>
</div>
<div class="container-fluid text-center" id="estados">
    <div class="panel panel-default">
        <div class="panel-body">
            <span id="states-list"></span>
        </div>
        <script src="/js/state-menu-1.0.0.min.js"></script>
    </div>
</div>

<div class="container-fluid text-center" id="graficos">
    <div class="panel panel-default">
        <div class="panel-body">
            <span id="quoeficientes"></span>
        </div>
    </div>
</div>

<script>
    var state = 'SP';
    var base = 'https://rawgit.com/quem-elegeu/site-generator/master/data/';
    function getResume(state) {
        state = state.trim().toUpperCase();
        var url = base + state + '/resume_' + state + '.json?t=2016-04-24-03-18';
        $.get(url, function (body) {
            var res = 'string' === typeof body ? JSON.parse(body) : body;
            var part = {},
                resume = [] ;
            res.forEach(function(r) {
                var b = ['', r[1], r[2], 1];
                b[0] = r[0].split(/\s*-\s*/)[0];
                var key = b[0]+'<='+b[1];
                if (!part[key]) {
                    part[key] = resume.length;
                    resume.push(b);
                } else {
                    var ref = resume[part[key]];
                    ref[2] += b[2];
                    ref[3]++;
                }
            });
            resume = resume.sort(function(a, b) {
                if (a[3] > b[3]) return 1;
                else if (a[3] < b[3]) return -1;
                else return 0;
            }).map(function(r) {
                r[0] += ' ( '+r[3]+' )'; return r;
            });
            var data = [{
                data: bP.partData(resume, 2),
                id: 'Candidates',
                header: ["Eleitos", "Ajudou", "Deputados Federais "+state]
            }];
            d3.selectAll("svg").remove();

            var _width = width;
            var _height = height + resume.length*10;
            if (_height < 700) _height = 710;
            var svg = d3.select("#quoeficientes")
                    .append("svg").attr('width',_width).attr('height',(_height+margin.b+margin.t))
                    .append("g").attr("transform","translate("+ margin.l+","+(margin.t)+")");
            bP.draw(data, svg);
        });
    }
    getResume(state);
</script>

<script>
$(function () {
    $('.btn').on('click', function() {
        ga && ga('send', 'event', 'mail','click', $(this).text().trim());
    });
});
</script>
</body>
</html>